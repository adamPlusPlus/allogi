import p,{useEffect as x,useRef as b}from"react";import{jsx as n,jsxs as i}from"react/jsx-runtime";function f({isVisible:o,x:u,y:d,items:l,onClose:t}){let s=b(null);return x(()=>{let e=c=>{s.current&&!s.current.contains(c.target)&&t()};if(o)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[o,t]),o?n("div",{ref:s,className:"context-menu",style:{left:u,top:d,position:"fixed",zIndex:1e3},onClick:e=>e.stopPropagation(),children:l.map((e,c)=>n(p.Fragment,{children:e.separator?n("div",{className:"context-menu-separator"}):i("div",{className:`context-menu-item ${e.disabled?"disabled":""} ${e.submenu?"context-menu-item-submenu":""}`,onClick:()=>{e.disabled||(e.action(),t())},children:[e.icon&&n("span",{className:"context-menu-icon",children:e.icon}),n("span",{className:"context-menu-label",children:e.label}),e.submenu&&n("span",{className:"context-menu-arrow",children:"\u25B6"}),e.submenu&&n("div",{className:"context-submenu",children:e.submenu.map((a,r)=>i("div",{className:`context-menu-item ${a.disabled?"disabled":""}`,onClick:m=>{m.stopPropagation(),a.disabled||(a.action(),t())},children:[a.icon&&n("span",{className:"context-menu-icon",children:a.icon}),n("span",{className:"context-menu-label",children:a.label})]},a.id||r))})]})},e.id||c))}):null}export{f as default};
